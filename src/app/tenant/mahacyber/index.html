<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Jhpiego - Saving Lives. Improving Health. Transforming Futures.</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800|Montserrat:300,400,700"
    rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/magnific-popup/magnific-popup.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/Chatroom.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
</head>

<body id="body" style="overflow-x: hidden;">
  <div class="chat-container"></div>
  <!--==========================
    Header
  ============================-->
  <header id="header">
    <div class="container-fluid" >
      <div class="row">
        <div class="col-sm-6 nav-lg">
          <img src="img/logo.png" class="testimonial-img" alt="" style="height: 75px;margin-top: 1.3%;">
        </div>
        <div class="col-sm-5 srch-nav" style="padding-top: 35px;">
          <p class="explore" style="z-index: 9999999;"><a style="color: #ffffff;" href="/explore-course"><b>Explore Course</b></a></p>
        </div>

        <div class="col-sm-1 sgn" style="padding-top: 35px;">
          <a style="float: right;width: 80px;" class="btn btn-sm btn-light pull-left btn-width" href="/resources">Sign In</a>
  		</div>
        

		
      </div>
    </div>

    <!--menu strats here-->
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a><br>

      <a href="javascript:">About</a>
      <a href="javascript:">Services</a>
      <a href="javascript:">Clients</a>
      <a href="javascript:">Contact</a>
      <a class="drip" data-toggle="collapse" data-target="#demo" style="cursor:pointer;"><big>Drop</big> down </a>
      <div id="demo" class="collapse"><br>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>

      </div>

      <a class="drip" data-toggle="collapse" data-target="#demo2" style="cursor:pointer;"><big>VU</big> MIDD
        TERM<big>+</big></a>
      <div id="demo2" class="collapse"><br>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>
        <a class="drip" href="javascript:">home</a>

      </div>
    </div>


    <!--menu close here-->
  </header>
  <!-- #header -->

  <!--==========================
    Intro Section
  ============================-->
  <section id="intro">

    <!-- <div class="intro-content">
      <div class="container">
        <h2>NATIONAL URBAN
          <br>
          LEARNING PLATFORM </h2>
        <p>An ecosystem approach to capacity building for the urban development sector, convening actors of the
          quadruple helix - Government, Academia, Industry, and Civil Society, to participate in strengthening the
          overall system to better solve challenges of urban India.</p>
      </div>
    </div> -->
    <div id="intro-carousel">
      <div class="item" style="background-image: url('img/intro-carousel/landing.png');"></div>
    </div>
  </section>
  <!-- #intro -->

  <main id="main">
    <!-- <section id="testimonials" class="wow fadeInUp" style="visibility: visible; animation-name: fadeInUp;">
      <div class="container">
        <div class="section-header">
          <h2>I am interested in</h2>
        </div>
        <div class="section-header" style="margin:0 12%;">
          <div class="container">
            <div class="row">
              <div class="col-md-2 imc"> <img src="img/sc.jpg" class=" pro-img" alt="" width="auto"
                  onclick="exploreCourse('/explore-course/1?key=Urban%20Mobility')">
                <h5 class="scT">Urban Mobility</h5>
              </div>
              <div class="col-md-2 imc"> <img src="img/sc1.jpg" class=" pro-img" alt="" width="auto"
                  onclick="exploreCourse('/explore-course/1?key=Urban%20Finance')">
                <h5 class="scT">Urban Finance</h5>
              </div>
              <div class="col-md-2 imc"> <img src="img/sc2.jpg" class=" pro-img" alt="" width="auto"
                  onclick="exploreCourse('/explore-course/1?key=Inclusive%20Development')">
                <h5 class="scT">Inclusive Development
                </h5>
              </div>
              <div class="col-md-2 imc"> <img src="img/sc3.jpg" class=" pro-img" alt="" width="auto"
                  onclick="exploreCourse('/explore-course/1?key=Urban%20Resilience')">
                <h5 class="scT">Urban Resilience</h5>
              </div>
              <div class="col-md-2 imc"> <img src="img/sc4.jpg" class=" pro-img" alt="" width="auto"
                  onclick="exploreCourse('/explore-course/1?key=WASH')">
                <h5 class="scT">WASH</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section> -->
    <section id="about" class="wow fadeInUp" style="padding-top: 50px;">
      <div class="container">
        <div class="row">
          <div class="col-lg-2 content">
            <h2 class="border-btm">Popular<br>
              Courses</h2>
            <p>Access the latest knowledge on issues of urban importance </p>
            
             <div class="pull-left viewall">
             <a href="/explore-course" class="view">View All <i class="fa fa-long-arrow-right" aria-hidden="true" style="margin-left: 5px;"></i></a></div>
          </div>
          <div class="col-lg-10">
            <div class="container">
              <div id="demo3" class="carousel slide" data-ride="carousel"> 
                
                <!-- Indicators -->
                <ul class="carousel-indicators mb-0 pb-0">
                  <li data-target="#demo" data-slide-to="0" class="active"></li>
                  <li data-target="#demo" data-slide-to="1"></li>
                  <li data-target="#demo" data-slide-to="2"></li>
                </ul>
                
                <!-- The slideshow -->
                <div class="carousel-inner no-padding" id="popularCourseSection"></div>
                <div class="row"><div class="col-md-12"><a class="carousel-control-prev" style="margin-right:5px;" href="#demo3" data-slide="prev">  <span class="carousel-control-next-icon sp"></span> </a> <a class="carousel-control-next" href="#demo3" data-slide="next"> <span class="carousel-control-prev-icon sp"></span></a></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="testimonials" class="wow fadeInUp" style="visibility: visible; animation-name: fadeInUp;padding-top: 0px;">
      <div class="container">
        <div class="section-header interested-in" style="margin-bottom: 60px;">
          <h2>I am interested in</h2>
        </div>
        <div class="section-header" style="margin:0 12%;">
          <div class="container">
            <div class="row">
              <div class="col-md-4 imc"> <img src="img/protection.png" class=" pro-img" alt="" style="margin-bottom:7px;height:60px;"
                onclick="exploreCourse('/explore-course/1?key=Protection Equipment')">
              <h5 class="scT">Protection Equipment
              </h5>
              </div>
              <div class="col-md-4 imc"> <img src="img/infection.png" class=" pro-img" alt="" style="margin-bottom:7px;height:60px;"
                  onclick="exploreCourse('/explore-course/1?key=Infection control')">
                <h5 class="scT">Infection control</h5>
              </div>
              <div class="col-md-4 imc mobile-interested"> <img src="img/hygene.png" class=" pro-img" alt="" style="margin-bottom:7px;height:60px;"
                  onclick="exploreCourse('/explore-course/1?key=Hygiene Practices')">
                <h5 class="scT">Hygiene Practices</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" style="background-color: #f5f5f5;">
    <div class="container">
      <div class="row">
        <div class="col-md-6 offset-md-3" style="text-align: center;">
          <p style="margin-bottom: 0;">Contact us: info@jhpiego.org</p>
        </div>
      </div>
    </div>
  </footer>
  <!-- #footer -->

  <!-- <a href="javascript:" class="back-to-top"><i class="fa fa-chevron-up"></i></a>  -->

  <!-- JavaScript Libraries -->
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/easing.min.js"></script>
  <script src="js/hoverIntent.js"></script>
  <script src="js/superfish.min.js"></script>
  <script src="js/wow.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/magnific-popup.min.js"></script>
  <script src="js/sticky.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>


  <!--script for open serach start here-->

  <script>
    function openSearch() {
      document.getElementById("myOverlay").style.display = "block";
    }

    function closeSearch() {
      document.getElementById("myOverlay").style.display = "none";
    }
  </script>
  <!--script for open serach close here-->



  <!--script for open navbar start here-->
  <script>
    function openNav() {
      document.getElementById("mySidenav").style.width = "100%";
    }

    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }
  </script>
  <!--script for open navbar close here-->



  <!--script for move to top button start here-->
  <script>
    //Get the button
    var mybutton = document.getElementById("myBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () { scrollFunction() };

    function scrollFunction() {
      if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>

  <!--script for move to top button close here-->






  <script>



    (function ($) {
      $.fn.countTo = function (options) {
        options = options || {};

        return $(this).each(function () {
          // set options for current element
          var settings = $.extend({}, $.fn.countTo.defaults, {
            from: $(this).data('from'),
            to: $(this).data('to'),
            speed: $(this).data('speed'),
            refreshInterval: $(this).data('refresh-interval'),
            decimals: $(this).data('decimals')
          }, options);

          // how many times to update the value, and how much to increment the value on each update
          var loops = Math.ceil(settings.speed / settings.refreshInterval),
            increment = (settings.to - settings.from) / loops;

          // references & variables that will change with each update
          var self = this,
            $self = $(this),
            loopCount = 0,
            value = settings.from,
            data = $self.data('countTo') || {};

          $self.data('countTo', data);

          // if an existing interval can be found, clear it first
          if (data.interval) {
            clearInterval(data.interval);
          }
          data.interval = setInterval(updateTimer, settings.refreshInterval);

          // initialize the element with the starting value
          render(value);

          function updateTimer() {
            value += increment;
            loopCount++;

            render(value);

            if (typeof (settings.onUpdate) == 'function') {
              settings.onUpdate.call(self, value);
            }

            if (loopCount >= loops) {
              // remove the interval
              $self.removeData('countTo');
              clearInterval(data.interval);
              value = settings.to;

              if (typeof (settings.onComplete) == 'function') {
                settings.onComplete.call(self, value);
              }
            }
          }

          function render(value) {
            var formattedValue = settings.formatter.call(self, value, settings);
            $self.html(formattedValue);
          }
        });
      };

      $.fn.countTo.defaults = {
        from: 0,               // the number the element should start at
        to: 0,                 // the number the element should end at
        speed: 1000,           // how long it should take to count between the target numbers
        refreshInterval: 100,  // how often the element should be updated
        decimals: 0,           // the number of decimal places to show
        formatter: formatter,  // handler for formatting the value before rendering
        onUpdate: null,        // callback method for every time the element is updated
        onComplete: null       // callback method for when the element finishes updating
      };

      function formatter(value, settings) {
        return value.toFixed(settings.decimals);
      }
    }(jQuery));

    jQuery(function ($) {
      // custom formatting example
      $('.count-number').data('countToOptions', {
        formatter: function (value, options) {
          return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
        }
      });

      // start all the timers
      $('.timer').each(count);

      function count(options) {
        var $this = $(this);
        options = $.extend({}, options || {}, $this.data('countToOptions') || {});
        $this.countTo(options);
      }
    });
    function navigateToExplore() {
      if ($("#site-search").val().trim() != '') {
        location.href = "/explore-course/1?key=" + $("#site-search").val().trim();
      } else {
        $("#site-search").val('');
      }
    }
    $(function () {
      $("#popularCourseSection").on("click", ".small-bow", function () {
        location.href = '/explore-course/course/' + $(this).find('input').val();
      });
      $("#site-search").on("keydown", function (e) {
        if ($("#site-search").val().trim() != '') {
          e.keyCode == 13 ? location.href = "/explore-course/1?key=" + $("#site-search").val().trim() : '';
        } else {
          $("#site-search").val('');
        }
      });
    });
    function exploreCourse(url) {
      location.href = url;
    }
    function calculateTimeAgo(lastUpdatedOn) {
      const local = moment(lastUpdatedOn).local().format('YYYY-MM-DD HH:mm:ss');
      return moment(local).fromNow();
    }
      $(function() {
        $.ajax({
          url: window.location.origin + '/api/data/v1/page/assemble?orgdetails=orgName,email',
          type: "POST",
          data: '{"request":{"source":"web","name":"AnonymousCourse","filters":{}}}',
          processData: false,
          contentType: 'application/json',
          success: function (response) {
            var latestCourses = _.find(response.result.response.sections, { name: 'Latest Courses' });
            // latestCourses.contents = latestCourses.contents.slice(0,2)
            // $(".pageSection-count").html(latestCourses.count);
            latestCourses.contents = _.filter(latestCourses.contents,{channel:"0130575380622950401"});
            var resourceContents = '';
            $.each(latestCourses.contents, function (index, value) {
              if(index<3) {
                if(index === 0) {
                  resourceContents += '<div class="carousel-item active">';
                }
                resourceContents += '<div class="col-xs-4 col-sm-4 col-md-4 pull-left">';
                  resourceContents += '<div class="small-bow">';
                    resourceContents += '<input type="hidden" value=' + value.identifier + '>';
                    resourceContents += '<a href="javascript:" onclick=abc(this) class="slider_info">';
                      if (value.appIcon != undefined) {
                        resourceContents += '<img class="img-fluid card-img-top" src=' + value.appIcon + ' alt=' + value.name + ' width="305px" style="height:158px;object-fit: cover;">';
                      }
              else {
                resourceContents += '<img class="img-fluid card-img-top" src="img/book.png" alt=' + value.name + ' width="305px" style="height:158px;object-fit: cover;">';
              }
              resourceContents += '</a>';
              resourceContents += '<div class="silder-content oppor">';
              resourceContents += '<p class="truncate" title="'+value.name+'"><b>'+_.capitalize(value.name)+'</b></p>';
              resourceContents += '<p><b><small>'+value.organisation[0]+'</small></b></p>';
              resourceContents += '<p class="truncate" title="'+value.description+'">'+value.description+'</p>';
              // resourceContents += '' + calculateTimeAgo(value.createdOn) + '';
              resourceContents += '<p class="bottom-text opport"><small class="small-text">Created Date</small>' + calculateTimeAgo(value.createdOn) + '<span class="pull-right paticipate">More Information</span></p> </div> </div> </div>';
              if(index === 2 || index===latestCourses.contents.length-1) {
                  resourceContents += '</div>';
              }
              } else {
                if(index % 3 === 0) {
                  resourceContents += '<div class="carousel-item">';
                }
                resourceContents += '<div class="col-xs-4 col-sm-4 col-md-4 pull-left">';
                  resourceContents += '<div class="small-bow">';
                    resourceContents += '<input type="hidden" value=' + value.identifier + '>';
                    resourceContents += '<a href="javascript:" onclick=abc(this) class="slider_info">';
                      if (value.appIcon != undefined) {
                        resourceContents += '<img class="img-fluid card-img-top" src=' + value.appIcon + ' alt=' + value.name + ' width="305px" style="height:158px;object-fit: cover;">';
                      }
              else {
                resourceContents += '<img class="img-fluid card-img-top" src="img/book.png" alt=' + value.name + ' width="305px" style="height:158px;object-fit: cover;">';
              }
              resourceContents += '</a>';
              resourceContents += '<div class="silder-content oppor">';
              resourceContents += '<p class="truncate" title="'+value.name+'"><b>'+_.capitalize(value.name)+'</b></p>';
              resourceContents += '<p><b><small>'+value.organisation[0]+'</small></b></p>';
              resourceContents += '<p class="truncate" title="'+value.description+'">'+value.description+'</p>';
              // resourceContents += '' + calculateTimeAgo(value.createdOn) + '';
              resourceContents += '<p class="bottom-text opport"><small class="small-text">Created Date</small>' + calculateTimeAgo(value.createdOn) + '<span class="pull-right paticipate">More Information</span></p> </div> </div> </div>';
              if(index % 3 === 2 || index===latestCourses.contents.length-1) {
                  resourceContents += '</div>';
              }
              }
            });
            $("#popularCourseSection").html(resourceContents);
          }
        });
      });
    </script>
      <script src="https://npm-scalableminds.s3.eu-central-1.amazonaws.com/@scalableminds/chatroom@master/dist/Chatroom.js"></script>
      <script type="text/javascript">
        var chatroom = new window.Chatroom({
          host: "http://52.172.51.143:5005",
          title: "Swati",
          container: document.querySelector(".chat-container"),
          welcomeMessage: "Hi, I am Swati. How may I help you?",
          speechRecognition: "en-US",
          voiceLang: "en-US"
        });
        // chatroom.openChat();
      </script>
</body>

</html>